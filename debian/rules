#!/usr/bin/make -f

export PYBUILD_NAME=zipextractor
export DH_VERBOSE=1

%:
	dh $@ --with python3 --buildsystem=pybuild

override_dh_auto_install:
	dh_auto_install
	# Install desktop file
	install -D -m 644 debian/zipextractor.desktop \
		debian/zipextractor/usr/share/applications/zipextractor.desktop
	# Install icons
	for size in 16 32 48 128; do \
		install -D -m 644 resources/icons/hicolor/$${size}x$${size}/apps/zipextractor.png \
			debian/zipextractor/usr/share/icons/hicolor/$${size}x$${size}/apps/zipextractor.png 2>/dev/null || true; \
	done
	install -D -m 644 resources/icons/hicolor/scalable/apps/zipextractor.svg \
		debian/zipextractor/usr/share/icons/hicolor/scalable/apps/zipextractor.svg 2>/dev/null || true

override_dh_python3:
	dh_python3 --shebang=/usr/bin/python3
